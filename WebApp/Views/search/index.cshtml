@section head {
    <script type="text/javascript">
        function GetSearchCriteria() {
            var searchCriteria = {
                IndexId: $("#indexId").val(),
                AssetId: $("#assetId").val(),
                PublicVideo: $("#publicVideo").prop("checked"),
                SearchPartition: $("#searchPartition").val(),
                TextScope: $("#textScope").val(),
                TextQuery: $("#textQuery").val(),
                Owner: $("#owner").val(),
                Face: $("#face").val(),
                Language: $("#language").val(),
                PageSize: 0,
                SkipCount: 0
            };
            return searchCriteria;
        }
        function SubmitSearchRequest() {
            $.post("/search/insights",
                {
                    searchCriteria: GetSearchCriteria()
                },
                function (results) {
                    $("#insightsData").jsonBrowse(results);
                }
            );
        }
        $(function () {
            $("#indexId").focus();
            CreateTipTop("mediaInsightsSearch", "Submit Search Request");
        })
    </script>
}

@section title {
    Media Insights Search
}

<table class="insightsSearch">
    <tr>
        <td class="inputLabel">
            Index Id
        </td>
        <td>
            @Html.TextBox("indexId")
        </td>
        <td class="inputLabel">
            Asset Id
        </td>
        <td>
            @Html.TextBox("assetId")
        </td>
        <td class="inputLabel">
            Public Video
        </td>
        <td>
            @Html.CheckBox("publicVideo")
        </td>
    </tr>
    <tr>
        <td class="inputLabel">
            Search Partition
        </td>
        <td>
            @Html.TextBox("searchPartition")
        </td>
        <td class="inputLabel">
            Text Scope
        </td>
        <td>
            @Html.TextBox("textScope")
        </td>
        <td class="inputLabel">
            Text Query
        </td>
        <td>
            @Html.TextBox("textQuery")
        </td>
    </tr>
    <tr>
        <td class="inputLabel">
            Owner
        </td>
        <td>
            @Html.TextBox("owner")
        </td>
        <td class="inputLabel">
            Face
        </td>
        <td>
            @Html.TextBox("face")
        </td>
        <td class="inputLabel">
            Language
        </td>
        <td>
            @Html.DropDownList("language", ViewData["indexerLanguages"] as SelectListItem[], new { @class = "searchLanguage" })
        </td>
    </tr>
</table>

<div id="insightsData" class="insightsData"></div>

<div class="viewButtons">
    @Html.Partial("SiteButton", new string[] { "mediaInsightsSearch", "MediaSearch.png", "SubmitSearchRequest()" })
</div>