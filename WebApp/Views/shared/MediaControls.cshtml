@using AzureSkyMedia.PlatformServices;

@{
    MediaStream[] mediaStreams = Model;
    string liveStreamImage = this.Context.Request.Query["live"] == "on" ? "MediaLiveStreamOn.png" : "MediaLiveStreamOff.png";
}

<table class="mediaControls">
    <tr>
        <td id="userButtonLeft1">
        @if (ViewData.ContainsKey("accountContext"))
        {
            @Html.Partial("SiteButton", new string[] { "mediaProcessorPresetEditor", "MediaProcessorPresetEditor.png", "window.location.href = '/preset'", "layoutButton" })
        }
        </td>
        <td id="userButtonLeft2">
        @if (ViewData.ContainsKey("accountContext"))
        {
            @Html.Partial("SiteButton", new string[] { "mediaFileWorkflow", "MediaUpload.png", "window.location.href = '/upload'", "layoutButton" })
        }
        </td>
        <td id="userButtonLeft3">
        @if (ViewData.ContainsKey("accountContext"))
        {
            @Html.Partial("SiteButton", new string[] { "mediaAssetWorkflow", "MediaWorkflow.png", "window.location.href = '/workflow'", "layoutButton" })
        }
        </td>
        <td>
            <table class="streamDial">
                <tr>
                    <td>
                        @Html.Partial("SiteButton", new string[] { "mediaStreamLeft", "MediaStreamLeft.png", "SlideStreamNumber('left')" })
                    </td>
                    <td class="streamNumber sideLeft">
                        <span>@(mediaStreams.Length == 0 ? 0 : 1)</span>
                    </td>
                    <td>
                        <div id="streamSlider" class="streamSlider"></div>
                    </td>
                    <td class="streamNumber sideRight">
                        @mediaStreams.Length
                    </td>
                    <td>
                        @Html.Partial("SiteButton", new string[] { "mediaStreamRight", "MediaStreamRight.png", "SlideStreamNumber('right')" })
                    </td>
                </tr>
            </table>
        </td>
        <td id="userButtonRight1">
        @if (ViewData.ContainsKey("accountContext"))
        {
            @Html.Partial("SiteButton", new string[] { "mediaAssetLibrary", "MediaLibrary.png", "window.location.href = '/asset'", "layoutButton" })
        }
        </td>
        <td id="userButtonRight2">
        @if (ViewData.ContainsKey("accountContext"))
        {
            @Html.Partial("SiteButton", new string[] { "mediaStreamLive", liveStreamImage, "ToggleLiveStream(this)", "layoutButton" })
        }
        </td>
        <td id="userButtonRight3">
        @if (ViewData.ContainsKey("accountContext"))
        {
            @Html.Partial("SiteButton", new string[] { "mediaInsightSearch", "MediaSearch.png", "window.location.href = '/search'", "layoutButton" })
        }
        </td>
    </tr>
</table>